{% extends 'shop1/layouts/main.html' %}

{% block title %}Collections | Shopkart{% endblock title %}

{% block content %}
<section class="py-5 text-center container" style="margin-top: 70px">
  <div class="row py-lg-5">
    <div class="col-lg-6 col-md-8 mx-auto">
      <h1 class="fw-light">Bestsellers</h1>
      <p class="lead text-muted">
        Our most popular products based on sales. Updated hourly.
      </p>
      <p>
        <a href="{% url 'login' %}" class="btn btn-primary my-2">Already User</a>
        <a href="{% url 'register' %}" class="btn btn-secondary my-2">Register</a>
      </p>
    </div>
  </div>
</section>

<section class="bg-light py-4 my-5">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <h4 class="mb-3">Categories</h4>
        <hr style="border-color: #b8bfc2"/>
        {% include 'shop1/inc/message.html' %}
      </div>

      {% for item in categories %}
      <div class="col-md-4 col-lg-3 d-flex align-items-stretch">
        <a href="{% url 'collection' item.name %}" style="text-decoration: none; width: 100%">
          <div class="card my-3 h-100">
            <div 
            style=" height: 200px;
                display: flex;
                justify-content: center;
                align-items: center;
                overflow: hidden;" >
              {% if item.image %}
              <img src="{{ item.image.url }}" class="img-fluid" alt="{{ item.name }}" style="max-height: 100%; max-width: 100%; object-fit: contain"/>
              {% else %}
              <img src="/static/images/upload/default.jpg" class="img-fluid" alt="Default Image" style="max-height: 100%; max-width: 100%; object-fit: contain" />
              {% endif %}
            </div>
            <div class="card-body text-center">
              <h5 class="card-title text-primary">{{ item.name }}</h5>
              <p class="card-text">{{ item.description }}</p>
            </div>
          </div>
        </a>
      </div>
      {% endfor %}
    </div>
  </div>
</section>
{% endblock content %}
